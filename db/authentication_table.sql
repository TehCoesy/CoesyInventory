-- MySQL Script generated by MySQL Workbench
-- Sun Nov 24 14:18:54 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema myinventory
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema myinventory
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `myinventory` DEFAULT CHARACTER SET utf8 ;
USE `myinventory` ;

-- -----------------------------------------------------
-- Table `myinventory`.`Organizations`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myinventory`.`Organizations` (
  `organizationID` INT NOT NULL AUTO_INCREMENT,
  `organizationName` VARCHAR(100) NOT NULL,
  `inventoryID` VARCHAR(45) NULL,
  PRIMARY KEY (`organizationID`, `organizationName`),
  UNIQUE INDEX `idOrganizations_UNIQUE` (`organizationID` ASC) VISIBLE,
  UNIQUE INDEX `organizationName_UNIQUE` (`organizationName` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `myinventory`.`Users`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myinventory`.`Users` (
  `userID` INT NOT NULL AUTO_INCREMENT,
  `userName` VARCHAR(80) NOT NULL,
  `password` VARCHAR(80) NOT NULL,
  `email` VARCHAR(100) NULL,
  `organizationID` INT NULL,
  `memberType` VARCHAR(10) NULL,
  PRIMARY KEY (`userID`, `userName`, `password`),
  UNIQUE INDEX `userID_UNIQUE` (`userID` ASC) VISIBLE,
  UNIQUE INDEX `userName_UNIQUE` (`userName` ASC) VISIBLE,
  INDEX `fk_Users_Organizations1_idx` (`organizationID` ASC) VISIBLE,
  CONSTRAINT `fk_Users_Organizations1`
    FOREIGN KEY (`organizationID`)
    REFERENCES `myinventory`.`Organizations` (`organizationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `myinventory`.`Inventory`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myinventory`.`Inventory` (
  `inventoryID` INT NOT NULL AUTO_INCREMENT,
  `organizationID` INT NOT NULL,
  PRIMARY KEY (`inventoryID`),
  UNIQUE INDEX `inventoryID_UNIQUE` (`inventoryID` ASC) VISIBLE,
  INDEX `fk_Inventory_Organizations1_idx` (`organizationID` ASC) VISIBLE,
  CONSTRAINT `fk_Inventory_Organizations1`
    FOREIGN KEY (`organizationID`)
    REFERENCES `myinventory`.`Organizations` (`organizationID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `myinventory`.`Items`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myinventory`.`Items` (
  `itemID` VARCHAR(100) NOT NULL,
  `itemName` VARCHAR(100) NOT NULL,
  `itemDescription` TEXT NULL,
  `inventoryID` INT NOT NULL,
  PRIMARY KEY (`itemID`, `itemName`),
  INDEX `fk_Items_Inventory1_idx` (`inventoryID` ASC) VISIBLE,
  CONSTRAINT `fk_Items_Inventory1`
    FOREIGN KEY (`inventoryID`)
    REFERENCES `myinventory`.`Inventory` (`inventoryID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `myinventory`.`Authentication`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myinventory`.`Authentication` (
  `authToken` VARCHAR(45) NOT NULL,
  `userID` INT NOT NULL,
  PRIMARY KEY (`authToken`),
  INDEX `fk_Authentication_Users1_idx` (`userID` ASC) VISIBLE,
  UNIQUE INDEX `authToken_UNIQUE` (`authToken` ASC) VISIBLE,
  CONSTRAINT `fk_Authentication_Users1`
    FOREIGN KEY (`userID`)
    REFERENCES `myinventory`.`Users` (`userID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
